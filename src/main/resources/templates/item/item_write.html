<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Spring Mall</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <link href="https://fonts.googleapis.com/css2?family=Roboto:wght@400;700&display=swap" rel="stylesheet">
    <style>
        body {
            font-family: 'Roboto', sans-serif;
        }
    </style>
</head>
<body class="bg-gray-100">

    <div th:replace="~{nav.html :: navbar}"></div>

    <main class="container mx-auto px-4 py-8">
        <div class="grid grid-cols-1 gap-6">
            <div class="p-4">
                <input id="title" type="text" placeholder="아이템 이름">
                <input id="price" type="number" placeholder="가격">
                <button onclick="add()"
                        class="px-4 py-1 bg-white border border-gray-300 rounded shadow hover:bg-gray-100">
                    전송</button>
            </div>
        </div>
    </main>

    <script src="https://cdn.jsdelivr.net/npm/axios/dist/axios.min.js"></script>
    <script>
        function add() {
            const title = document.getElementById('title').value;
            const price = document.getElementById('price').value;

            axios.post('/item/add', {
                title: title,
                price: price
            }, {
                headers: { 'Content-Type': 'application/json' }
            }).then(() => {
                location.href = '/item';
            }).catch((error) => {
                alert("에러 코드 : " + error.response.status + "\n" +
                    "에러 메시지 : " + error.response.data.message);
            });
        }
    </script>
</body>

</html>