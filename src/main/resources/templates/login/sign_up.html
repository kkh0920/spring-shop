<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Title</title>
    <link href="/css/main.css" rel="stylesheet">
    <link href="/css/nav.css" rel="stylesheet">

</head>
<body>

    <div th:replace="~{nav.html :: navbar}"></div>

    <div>
        <input id="displayName" type="text" placeholder="닉네임">
        <input id="username" type="text" placeholder="아이디">
        <input id="password" type="password" placeholder="비밀번호">
        <button onclick="signUp()">가입</button>
    </div>

    <script src="https://cdn.jsdelivr.net/npm/axios/dist/axios.min.js"></script>
    <script>
        function signUp() {
            const displayName = document.getElementById('displayName').value;
            const username = document.getElementById('username').value;
            const password = document.getElementById('password').value;

            axios.post('/sign-up', {
                displayName: displayName,
                username: username,
                password: password
            }).then(() => {
                location.href = '/login';
            }).catch((error) => {
                alert("에러 코드 : " + error.response.status + "\n" +
                    "에러 메시지 : " + error.response.data);
            });
        }
    </script>
</body>




</html>